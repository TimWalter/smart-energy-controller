This paper provides a novel formulation of the carbon emission minimization problem within a smart home. The environment includes an energy storage system, a heat pump, and a flexible demand. The environment is formulated as a Markov Decision Process and tested using state of the art reinforcement learning methods. The effectiveness of the algorithms is compared to rule-based controllers. In addition, three variations of the environment are explored in an effort to improve the formulation in terms of learnability.