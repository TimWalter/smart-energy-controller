This paper provides a novel formulation of the problem of carbon intensity minimization in a smart home environment. The environment includes a energy storage system, a heat pump, and a flexible demand. The environment is formulated as a Markov Decision Process and tested using state of the art reinforcement learning methods. Since none of the tested algorithm was capable of solving the initial environment effectivly, three hypothesis and accompanying modifications were explored in an effort to aid the learning process.